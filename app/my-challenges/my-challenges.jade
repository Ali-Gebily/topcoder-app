.my-challenges-container
  .my-challenges
    header
      h1.section-title My Challenges

      p.viewDashboard
        a(ui-sref="dashboard") View Dashboard

      p.noChallenges(ng-hide="vm.userHasChallenges") You have not participated in any challenges yet.

      p.viewOptions
        a(ng-click="vm.changeView('table')", href="#") Table
        span &nbsp; | &nbsp;
        a(ng-click="vm.changeView('tile')", href="#") Tile

      p.filters
        a(ng-click="vm.viewActiveChallenges()", href="#") Active
        span &nbsp; | &nbsp;
        a(ng-click="vm.viewPastChallenges()", href="#") Past

    .section-loading(ng-show="vm.loading")

    section.challenges.tile-view(ng-if="vm.userHasChallenges && !vm.loading && vm.view == 'tile'")
      challenge-tile.tile(ng-repeat="challenge in vm.myChallenges | orderBy:registrationEndDate:true", challenge="challenge")

    section.challenges.table-view(ng-show="vm.view == 'table'")
      table(width='100%')
        thead
          tr
            th
              span Type
              .sort-icon-place
            th(rel='sortable', ng-click="vm.sort('challengeName')")
              span Name
              .sort-icon-place(ng-class="{sort: vm.sortColumn == 'challengeName', desc: vm.sortOrder == 'desc', asc: vm.sortOrder == 'asc'} ")
            th(rel='sortable', ng-click="vm.sort('firstPlacePrize')")
              span Ist Prize
              .sort-icon-place(ng-class="{sort: vm.sortColumn == 'firstPlacePrize', desc: vm.sortOrder == 'desc', asc: vm.sortOrder == 'asc'} ")
            th
              span Roles
              .sort-icon-place
            th(rel='sortable', ng-click="vm.sort('submissionEndDate')")
              span Submit By
              .sort-icon-place(ng-class="{sort: vm.sortColumn == 'submissionEndDate', desc: vm.sortOrder == 'desc', asc: vm.sortOrder == 'asc'} ")
        tbody
          tr(ng-show='vm.myChallenges.length > 0 && !vm.loading', ng-repeat='challenge in vm.myChallenges')
            td(class='{{challenge.track}}')
            td(rel='challenge-name')
              a(href='/challenge-details/{{challenge.challengeId}}?type={{challenge.challengeCommunity}}') {{challenge.challengeName}}
            td {{challenge.firstPlacePrize | currency}}
            td.ellipsis(rel='roles', title="{{challenge.userDetails.roles | listRoles}}") {{challenge.userDetails.roles | listRoles}}
            td {{challenge.submissionEndDate | date: 'MM/dd/yy HH:mm '}}
          tr(ng-show='vm.loading')
            td(colspan='5')
              .widget-loading

    .section-links
      .link
        a(href="https://www.{{vm.domain}}/challenges/?pageIndex=1") Find New Challenges

      .link(ng-show="vm.isCopilot")
        a(href="https://www.{{vm.domain}}/direct") Launch Topcoder Direct

      .link(ng-hide="vm.userHasChallenges")
        a(href="https://community.{{vm.domain}}/", target="_blank") View Help Library

    hr

